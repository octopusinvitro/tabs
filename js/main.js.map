{"version":3,"sources":["parser.js","connection.js","validator.js","logger.js","ui.js","plugins.js"],"names":["Parser","validator","this","minArticles","Connection","logger","apikey","url","params","show-fields","order-by","api-key","Validator","check","data","prototype","tabInfoFrom","all","response","results","articles","slice","getArticleInfo","article","webUrl","webTitle","trailText","fields","getTabInfo","$","map","buildTabInfo","Logger","logError","err","printSeperator","console","log","stack","buildParams","section","extend","dataFrom","that","ajax","type","dataType","done","fail","UI","fetchingTrigger1","fetchingTrigger2","fetchingTrigger3","tabOutput1","tabOutput2","tabOutput3","labelsSelector","activeClass","sectionFrom","#tab1","#tab2","#tab3","format","makeTitle","makeText","makeItem","contents","buildList","content","join","loadArticles","label","connection","parser","setup","method","noop","methods","length","window"],"mappings":"AAAA,QAAAA,QAAAC,GACAC,KAAAD,UAAAA,EACAC,KAAAC,YAAA,ECFA,QAAAC,YAAAC,EAAAC,GACAJ,KAAAG,OAAAA,EACAH,KAAAK,IAAA,yCACAL,KAAAM,QACAC,cAAA,YACAC,WAAA,SACAC,UAAAL,GCJA,GAAAM,aAEAA,WAAAC,MAAA,SAAAC,GACA,OAAA,GFAAd,OAAAe,UAAAC,YAAA,SAAAF,GAEA,GAAAG,GAAA,WACA,MAAAH,GAAAI,SAAAC,SAGAC,EAAA,WACA,MAAAH,KAAAI,MAAA,EAAAnB,KAAAC,cAGAmB,EAAA,SAAAC,GACA,OACAC,OAAAD,EAAAC,OACAC,SAAAF,EAAAE,SACAC,UAAAH,EAAAI,OAAAD,YAIAE,EAAA,WACA,MAAAC,GAAAC,IAAAV,IAAA,SAAAG,GACA,MAAAD,GAAAC,MAIAQ,EAAA,WAEA,MAAAH,KAMA,OAAAG,KGrCA,IAAAC,QAAAA,UAEAA,QAAAC,SAAA,SAAAC,GAEA,GAAAC,GAAA,WACAC,QAAAC,IAAA,kDAGAF,KACAC,QAAAC,IAAA,cAAAH,GACAE,QAAAC,IAAAH,EAAAI,OACAH,KFDA/B,WAAAW,UAAAwB,YAAA,SAAAC,GACA,GAAAhC,IAAAgC,QAAAA,EACA,OAAAX,GAAAY,OAAAjC,EAAAN,KAAAM,SAGAJ,WAAAW,UAAA2B,SAAA,SAAAF,GACA,GAAAG,GAAAzC,IAEA2B,GAAAe,MACAC,KAAA,MACAtC,IAAAL,KAAAK,IACAuC,SAAA,OACAhC,KAAAZ,KAAAqC,YAAAC,KACAO,KAAA,SAAAjC,GACA,MAAAA,KACAkC,KAAA,SAAAd,GAEA,MADAS,GAAAtC,OAAA4B,SAAAC,QG1BA,IAAAe,KACAC,iBAAA,QACAC,iBAAA,QACAC,iBAAA,QAEAC,WAAA,mBACAC,WAAA,mBACAC,WAAA,mBAEAC,eAAA,eACAC,YAAA,SAEAC,aACAC,QAAA,UACAC,QAAA,WACAC,QAAA,UAIAZ,IAAAa,OAAA,SAAA1C,GAEA,GAAA2C,GAAA,SAAAtC,GACA,MAAA,8BAAAA,EAAA,SAGAuC,EAAA,SAAAtC,GACA,MAAA,4BAAAA,EAAA,QAGAuC,EAAA,SAAAzC,EAAA0C,GACA,MAAA,gCAAA1C,EAAA,2BACA0C,EACA,aAGAC,EAAA,WACA,MAAAtC,GAAAC,IAAAV,EAAA,SAAAG,GACA,GAAA6C,GAAAL,EAAAxC,EAAAE,UAAAuC,EAAAzC,EAAAG,UACA,OAAAuC,GAAA1C,EAAAC,OAAA4C,KACAC,KAAA,MAGA,OAAAF,MAGAlB,GAAAqB,aAAA,SAAAC,EAAAH,EAAAI,EAAAC,KAmBAxB,GAAAyB,MAAA,SAAAF,EAAAC,KC/DA,WAYA,IAXA,GAAAE,GACAC,EAAA,aACAC,GACA,SAAA,QAAA,QAAA,QAAA,MAAA,SAAA,QACA,YAAA,QAAA,iBAAA,WAAA,OAAA,MACA,eAAA,UAAA,aAAA,QAAA,OAAA,UACA,WAAA,cAAA,YAAA,QAAA,QAEAC,EAAAD,EAAAC,OACA1C,EAAA2C,OAAA3C,QAAA2C,OAAA3C,YAEA0C,KACAH,EAAAE,EAAAC,GAGA1C,EAAAuC,KACAvC,EAAAuC,GAAAC","file":"main.js","sourcesContent":["function Parser(validator) {\n  this.validator   = validator;\n  this.minArticles = 5;\n};\n\nParser.prototype.tabInfoFrom = function(data) {\n\n  var all = function() {\n    return data.response.results;\n  };\n\n  var articles = function() {\n    return all().slice(0, this.minArticles);\n  };\n\n  var getArticleInfo = function(article) {\n    return {\n      \"webUrl\":    article.webUrl,\n      \"webTitle\":  article.webTitle,\n      \"trailText\": article.fields.trailText\n    }\n  };\n\n  var getTabInfo = function() {\n    return $.map(articles(), function(article) {\n      return getArticleInfo(article);\n    });\n  };\n\n  var buildTabInfo = function() {\n    // if (this.validator.ckeck(data)) {\n      return getTabInfo();\n    // } else {\n    //   return [];\n    // }\n  }\n\n  return buildTabInfo();\n};\n","function Connection(logger, apikey) {\n  this.logger = logger;\n  this.url    = \"http://content.guardianapis.com/search\";\n  this.params = {\n    \"show-fields\": \"trailText\",\n    \"order-by\":    \"newest\",\n    \"api-key\":     apikey\n  };\n};\n\nConnection.prototype.buildParams = function(section) {\n  var params = { \"section\": section};\n  return $.extend(params, this.params);\n};\n\nConnection.prototype.dataFrom = function(section) {\n  var that  = this;\n\n  $.ajax({\n    type: \"GET\",\n    url: this.url,\n    dataType: \"json\",\n    data: this.buildParams(section)\n  }).done(function(data) {\n    return data;\n  }).fail(function(err) {\n    that.logger.logError(err);\n    return {};\n  });\n\n};\n","// Not implemented due to lack of time\n\nvar Validator = {};\n\nValidator.check = function(data) {\n  return true;\n}\n","var Logger = Logger || {};\n\nLogger.logError = function(err) {\n\n  var printSeperator = function() {\n    console.log(\"**********************************************\");\n  }\n\n  printSeperator();\n  console.log('Exception: ' + err);\n  console.log(err.stack);\n  printSeperator();\n}\n","var UI = {\n  fetchingTrigger1: \"#tab1\",\n  fetchingTrigger2: \"#tab2\",\n  fetchingTrigger3: \"#tab3\",\n\n  tabOutput1: \"#tab-content1 ul\",\n  tabOutput2: \"#tab-content2 ul\",\n  tabOutput3: \"#tab-content3 ul\",\n\n  labelsSelector: \".tabs__label\",\n  activeClass:    \"active\",\n\n  sectionFrom: {\n    \"#tab1\": \"uk-news\",\n    \"#tab2\": \"football\",\n    \"#tab3\": \"travel\"\n  }\n};\n\nUI.format = function(articles) {\n\n  var makeTitle = function(webTitle) {\n    return '<h1 class=\"article__title\">' + webTitle + '</h1>'\n  };\n\n  var makeText = function(trailText) {\n    return '<p class=\"article__text\">' + trailText + '</p>'\n  };\n\n  var makeItem = function(webUrl, contents) {\n    return '<li class=\"article\"><a href=\"' + webUrl + '\" class=\"article__link\">' +\n           contents +\n           '</a></li>';\n  };\n\n  var buildList = function() {\n\t  return $.map(articles, function(article) {\n      var content = makeTitle(article.webTitle) + makeText(article.trailText);\n      return makeItem(article.webUrl, content);\n\t  }).join(\"\\n\");\n  };\n\n  return buildList();\n};\n\nUI.loadArticles = function(label, content, connection, parser) {\n\n  // var dataFrom = function(section) {\n  //   return connection.dataFrom(section);\n  // };\n  //\n  // var tabInfoFrom = function(data) {\n  //   return parser.tabInfoFrom(data);\n  // };\n  //\n  // var load = function(label, content) {\n  //   var data = dataFrom(UI.sectionFrom[label]);\n  //   var list = UI.format(tabInfoFrom(data));\n  //   $(content).html(list);\n  // };\n  //\n  // load(label, content);\n};\n\nUI.setup = function(connection, parser) {\n\n  // var swapClass = function(element) {\n\t// $(UI.labelsSelector).removeClass(activeClass);\n  //   element.addClass(activeClass);\n  // };\n  //\n  // var registerTabListener = function(tabSelector, contentSelector) {\n  //   $(document).on(\"click\", tabSelector, function(e) {\n  //     UI.loadArticles(tabSelector, contentSelector, connection, parser);\n  //     swapClass($(this));\n  //   });\n  // };\n  //\n  // var registerAll = function() {\n  //   registerTabListener(UI.fetchingTrigger1, UI.tabOutput1);\n  //   registerTabListener(UI.fetchingTrigger2, UI.tabOutput2);\n  //   registerTabListener(UI.fetchingTrigger3, UI.tabOutput3);\n  // };\n  //\n  // registerAll();\n};\n","// Avoid `console` errors in browsers that lack a console.\n(function() {\n  var method;\n  var noop = function () {};\n  var methods = [\n    'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\n    'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\n    'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\n    'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\n  ];\n  var length = methods.length;\n  var console = (window.console = window.console || {});\n\n  while (length--) {\n    method = methods[length];\n\n    // Only stub undefined methods.\n    if (!console[method]) {\n      console[method] = noop;\n    }\n  }\n}());\n\n// Place any jQuery/helper plugins in here.\n"]}